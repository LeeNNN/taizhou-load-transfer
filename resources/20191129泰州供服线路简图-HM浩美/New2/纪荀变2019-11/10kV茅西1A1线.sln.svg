<?xml version="1.0" encoding="UTF-8" ?>
<svg width="936" height="380" viewBox="0 0 936 380" onload="init(evt)" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:cge="http://iec.ch/TC57/2005/SVG-schema#">
    <style type="text/css">
        <![CDATA[]]>
    </style>
    <script type="text/ecmascript">
        var transMatrix = [1, 0, 0, 1, 0, 0];
        function clickChild(evt){window.parent.clickChild(evt);}
        function init(evt) {
        if (window.svgDocument == null) {
        svgDoc = evt.target.ownerDocument;
        }
        mapMatrix = svgDoc.getElementById(&quot;map-matrix&quot;);
        clientWidth = svgDoc.documentElement.clientWidth;
        clientHeight = svgDoc.documentElement.clientHeight;
        getlayer(svgDoc);
        addEvent(mapMatrix);
        width = mapMatrix.firstElementChild.width.animVal.value;
        height = mapMatrix.firstElementChild.height.animVal.value;
        transMatrix[0] = 1;
        transMatrix[3] = 1;
        transMatrix[4] = -(width/2)+(clientWidth/2);
        transMatrix[5] = -(height/2)+(clientHeight/2);
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);
        zoomIn(clientHeight/height);
        }
        function addEvent(mapMatrix) {
        if(document.addEventListener){
        mapMatrix.addEventListener(&apos;DOMMouseScroll&apos;,mousewheel,false);}
        mapMatrix.setAttribute(&quot;onmousewheel&quot;, &quot;mousewheel(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmouseup&quot;, &quot;mouseup(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousedown&quot;, &quot;mousedown(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousemove&quot;,&quot;mousemove(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousemout&quot;, &quot;mousemout(evt)&quot;);
        }
        function mousewheel(evt) {
        if (evt.wheelDelta) {
        console.log(evt.wheelDelta);
        if (evt.wheelDelta == 120) {
        zoomOut(1.25);
        }else if(evt.wheelDelta == 180){
        zoomOut(1.25);
        } else {
        zoomIn(0.8);
        }
        } else if (evt.detail) {
        if (evt.detail == -3) {
        zoomOut(1.25);
        } else {
        zoomIn(0.8);}}}
        var downx = 0;var downy = 0;var downclick = 0;var movex = transMatrix[4];var movey = transMatrix[5];
        function mouseup(evt) {
        var oEvent = evt || event;
        var x = (oEvent.clientX - downx);
        var y = (oEvent.clientY - downy);
        movex += x;
        movey += y;
        downclick = 0;downx = 0;downy = 0;}
        function mousemout(evt) {
        downclick = 0;downx = 0;downy = 0;}
        function mousedown(evt) {
        var oEvent = evt || event;
        downclick = 1;
        downx = oEvent.clientX;
        downy = oEvent.clientY;}
        function mousemove(evt) {
        if (downclick == 1) {
        var oEvent = evt || event;
        var x = (oEvent.clientX - downx);
        var y = (oEvent.clientY - downy);
        transMatrix[4] = x + movex;
        transMatrix[5] = y + movey;
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) +&quot;)&quot;;
        mapMatrix.setAttributeNS(null,&quot;transform&quot;, newMatrix);}}
        function getlayer(SvgMainMapDoc) {
        var node = SvgMainMapDoc.documentElement;
        findnode(node)}
        function findnode(node) {
        for (var i = 0; i &lt; node.childNodes.length; i++) {
        if (node.childNodes.item(i).nodeType != 3 &amp;&amp; node.childNodes.item(i).nodeType != 4) {
        var child = node.childNodes.item(i);
        if (child.getAttribute(&quot;id&quot;) &amp;&amp; child.getAttribute(&quot;objid&quot;) != &quot;&quot; &amp;&amp; child.getAttribute(&quot;objid&quot;) != null) {
        /*child.setAttribute(&quot;onclick&quot;, &quot;click(this)&quot;); */}
        if (child.childNodes) {
        findnode(child);
        } else {
        break;
        }}}}
        function click(evt) {
        /*alert(evt.getAttribute(&quot;objid&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objtype&quot;)+&quot;_&quot;+evt.getAttribute(&quot;name&quot;)); */}
        function move(evt){
        var id = evt.getAttribute(&quot;objtype&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objid&quot;)
        var node = svgDoc.documentElement;
        opacity(node,&quot;1&quot;,id);}
        function out(evt){
        var id = evt.getAttribute(&quot;objtype&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objid&quot;)
        var node = svgDoc.documentElement;
        opacity(node,&quot;0&quot;,id); }
        function opacity(node,value,id){
        for (var i = 0; i &lt; node.childNodes.length; i++) {
        if (node.childNodes.item(i).nodeType != 3 &amp;&amp; node.childNodes.item(i).nodeType != 4) {
        var child = node.childNodes.item(i);
        if (child.getAttribute(&quot;opacity&quot;) &amp;&amp; child.getAttribute(&quot;geoLabel&quot;) != null &amp;&amp;child.getAttribute(&quot;geoLabel&quot;) == id ) {
        child.setAttribute(&quot;opacity&quot;, value);}
        if (child.childNodes) {
        opacity(child,value,id);
        } else {
        break;}}}}
        function pan(dx, dy) {
        transMatrix[4] += dx;
        transMatrix[5] += dy;
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos;&apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
        function zoomIn(scale) {
        console.log(scale);
        if(transMatrix[0] &lt; 0.02 )
        return;
        for (var i = 0; i &lt; transMatrix.length; i++) {
        transMatrix[i] *= scale;}
        transMatrix[4] += (1 - scale) * clientWidth / 2;
        transMatrix[5] += (1 - scale) * clientHeight / 2;
        movex = transMatrix[4];
        movey = transMatrix[5];
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
        function zoomOut(scale) {
        console.log(scale);
        if(transMatrix[0]&gt;10 ) 
        return;
        for (var i = 0; i &lt; transMatrix.length; i++) {
        transMatrix[i] *= scale;}
        transMatrix[4] += (1 - scale) * clientWidth / 2;
        transMatrix[5] += (1 - scale) * clientHeight / 2;
        movex = transMatrix[4];
        movey = transMatrix[5];
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
    </script>
    <defs>
        <symbol id="Disconnector_11300000_206001@1" viewBox="0.0000 0.0000 2.0000 8.0000">
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="0.000000, 3.000000 2.000000, 3.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="0.000000, 3.000000 1.000000, 5.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 5.000000 1.000000, 8.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 3.000000 1.000000, 0.000000" />
        </symbol>
        <symbol id="Disconnector_11300000_206001@0" viewBox="0.0000 0.0000 2.9883 8.0000">
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.09961133333" fill="none" points="0.000000, 3.097210 1.494140, 4.999990" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.09961133333" fill="none" points="0.494170, 3.000000 2.494170, 3.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.09961133333" fill="none" points="0.494200, 3.000010 2.494200, 3.000010 2.494340, 2.995590" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.09961133333" fill="none" points="1.494170, 5.000000 1.494170, 8.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.09961133333" fill="none" points="1.494170, 3.000000 1.494170, 0.000000" />
        </symbol>
        <symbol id="Breaker_DMS_CXKG_@1" viewBox="0.0000 0.0000 2.0000 7.5086">
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="rgb(255, 0, 0)" points="0.000000, 1.254270 0.000000, 6.254290 2.000000, 6.254290 2.000000, 1.254270 0.000000, 1.254270" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 2.502853 1.000000, 0.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 5.005707 1.000000, 7.508560" />
        </symbol>
        <symbol id="Breaker_DMS_CXKG_@0" viewBox="0.0000 0.0000 2.1196 7.5000">
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 1.212060 1.059810, 0.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="0.000000, 1.225650 0.000000, 6.262610 2.082620, 6.262610 2.082620, 1.225650 0.000000, 1.225650" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 6.258430 1.059810, 7.500030" />
        </symbol>
        <symbol id="Breaker_11100000_2040010@1" viewBox="0.0000 0.0000 2.0000 7.5086">
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="rgb(255, 0, 0)" points="0.000000, 1.254270 0.000000, 6.254290 2.000000, 6.254290 2.000000, 1.254270 0.000000, 1.254270" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 2.502853 1.000000, 0.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 5.005707 1.000000, 7.508560" />
        </symbol>
        <symbol id="Breaker_11100000_2040010@0" viewBox="0.0000 0.0000 2.1196 7.5000">
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 1.212060 1.059810, 0.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="0.000000, 1.225650 0.000000, 6.262610 2.082620, 6.262610 2.082620, 1.225650 0.000000, 1.225650" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 6.258430 1.059810, 7.500030" />
        </symbol>
    </defs>
    <g id="map-matrix" transform="matrix(1 0 0 1 0 0)">
        <g id="bglayer">
            <rect width="936" x="0.0" height="380" y="0.0" style="fill:#fff;" />
        </g>
        <g id="Substation_Layer">
            <g id="">
                <polygon stroke="rgb(255, 0, 0)" stroke-width="3" fill="none" points="0.000000, -62.966601 133.997600, -62.966601 133.997600, -18.590801 0.000000, -18.590801 0.000000, -62.966601" node1="0" node2="0" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Substation_Layer" />
                    <cge:PSR_Ref ObjectName="纪荀变" PSRType="30000000" />
                </metadata>
            </g>
        </g>
        <g id="ACLineSegment_Layer">
            <g id="PD_20100000_1945229">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="295.622800, -40.778701 355.622800, -40.778701" node1="989966" node2="989967" _Dataid="PD_20100000_1945229" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_235837" />
                    <cge:Layer_Ref ObjectName="ACLineSegment_Layer" />
                    <cge:PSR_Ref ObjectID="PD_20100000_1945229" ObjectName="站外-电缆终端头-站外-电缆终端头1714585" GlobeID="SBID00000025BD79635B344D2CBE1F92A439F47A1E" PSRType="20100000" />
                </metadata>
            </g>
            <g id="PD_10100000_28379881">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="405.622800, -40.778701 505.038800, -40.778701" node1="989972" node2="989973" _Dataid="PD_10100000_28379881" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_11300000_254934" />
                    <cge:Layer_Ref ObjectName="ACLineSegment_Layer" />
                    <cge:PSR_Ref ObjectID="PD_10100000_28379881" ObjectName="茅西线020-茅西线019" GlobeID="12000006711890" PSRType="10100000" />
                </metadata>
            </g>
        </g>
        <g id="BusbarSection_Layer">
            <g id="">
                <polyline stroke="rgb(255, 0, 0)" stroke-width="2.5" fill="none" points="133.997600, -51.872651 133.997600, -29.684751" node1="989963" node2="0" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_235836" />
                    <cge:Layer_Ref ObjectName="BusbarSection_Layer" />
                    <cge:PSR_Ref ObjectName="泰州.纪荀变/10kV.10kVI段母线" PSRType="31100000" />
                </metadata>
            </g>
        </g>
        <g id="ConnLine_Layer">
            <g id="PD_14000000_235836">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="133.997600, -40.778701 185.622400, -40.778701" node1="989963" node2="989964" _Dataid="PD_14000000_235836" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_235836" />
                    <cge:Layer_Ref ObjectName="ConnLine_Layer" />
                    <cge:PSR_Ref ObjectID="PD_14000000_235836" ObjectName="null" PSRType="36000000" />
                </metadata>
            </g>
            <g id="PD_14000000_235837">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="235.622400, -40.778701 295.622800, -40.778701" node1="989965" node2="989966" _Dataid="PD_14000000_235837" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_235837" />
                    <cge:GLink_Ref ObjectID="PD_20100000_1945229" />
                    <cge:Layer_Ref ObjectName="ConnLine_Layer" />
                    <cge:PSR_Ref ObjectID="PD_14000000_235837" ObjectName="null" PSRType="36000000" />
                </metadata>
            </g>
        </g>
        <g id="Disconnector_Layer">
            <g id="PD_11300000_254933">
                <use x="615.0388" y="-40.77870084" width="2" height="8" transform="scale(40.000000, 40.000000) translate(-598.787830, 43.259233) rotate(540.000000, 615.038800, -40.778701)" xlink:href="#Disconnector_11300000_206001@1" node1="989968" node2="989969" _Dataid="PD_11300000_254933" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Disconnector_Layer" />
                    <cge:PSR_Ref ObjectID="PD_11300000_254933" ObjectName="茅西纱厂Z13刀闸" GlobeID="70d6ab160aff808081575e11f3015770d644a823f4" PSRType="11300000" />
                </metadata>
            </g>
            <g id="PD_11300000_254934">
                <use x="525.0388" y="-40.77870084" width="2" height="8" transform="scale(40.000000, 40.000000) translate(-511.037830, 43.259233) rotate(540.000000, 525.038800, -40.778701)" xlink:href="#Disconnector_11300000_206001@1" node1="989973" node2="989976" _Dataid="PD_11300000_254934" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_10100000_28379881" />
                    <cge:Layer_Ref ObjectName="Disconnector_Layer" />
                    <cge:PSR_Ref ObjectID="PD_11300000_254934" ObjectName="茅西纱厂Z11刀闸" GlobeID="70d4103312ff808081575e11f3015770d3a9c723f0" PSRType="11300000" />
                </metadata>
            </g>
        </g>
        <g id="Breaker_Layer">
            <g id="">
                <use x="210.6224" y="-40.77870084" width="2.11962" height="7.50003" transform="scale(49.999800, 49.999800) translate(-205.491433, 43.213150) rotate(540.000000, 210.622400, -40.778701)" xlink:href="#Breaker_DMS_CXKG_@0" node1="989964" node2="989965" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_235836" />
                    <cge:GLink_Ref ObjectID="PD_14000000_235837" />
                    <cge:Layer_Ref ObjectName="Breaker_Layer" />
                    <cge:PSR_Ref ObjectName="泰州.纪荀变/10kV.茅西1A1开关" PSRType="30500000" />
                </metadata>
            </g>
            <g id="PD_11100000_401074">
                <use x="380.6228" y="-40.77870084" width="2.11962" height="7.50003" transform="scale(19.266590, 19.266590) translate(-360.174119, 41.114593) rotate(540.000000, 380.622800, -40.778701)" xlink:href="#Breaker_11100000_2040010@0" node1="989970" node2="989971" _Dataid="PD_11100000_401074" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Breaker_Layer" />
                    <cge:PSR_Ref ObjectID="PD_11100000_401074" ObjectName="茅西总线K1开关" GlobeID="SBID000000B6B4501A6938457297BF43BC212819C4" PSRType="11100000" />
                </metadata>
            </g>
            <g id="PD_11100000_265735">
                <use x="570.0388" y="-40.77870084" width="2" height="7.508559758" transform="scale(19.244703, 19.244703) translate(-539.764264, 41.114965) rotate(540.000000, 570.038800, -40.778701)" xlink:href="#Breaker_11100000_2040010@1" node1="989974" node2="989975" _Dataid="PD_11100000_265735" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Breaker_Layer" />
                    <cge:PSR_Ref ObjectID="PD_11100000_265735" ObjectName="茅西纱厂Z1开关" GlobeID="14000569151626" PSRType="11100000" />
                </metadata>
            </g>
        </g>
        <g id="Text_Layer">
            <g id="1693_273078_0">
                <text font-size="24" font-family="SimSun" stroke="rgb(255, 0, 0)" stroke-width="0.8" x="61.28479977" y="-33.77870084" style="text-anchor:middle">纪荀变</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273079_0">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="612.2047999" y="-52.4447012" style="text-anchor:middle">Z13</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273080_0">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="522.5388" y="-52.4447012" style="text-anchor:middle">Z11</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273143_0">
                <text font-size="13" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4333333333" x="210.6224" y="-52.06470013" style="text-anchor:middle">茅西1A1开关</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273081_0">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="380.6228" y="-65.77870084" style="text-anchor:middle">茅西总线K1</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273081_1">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="380.6228" y="-52.57870084" style="text-anchor:middle">开关</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273082_0">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="586.7048004" y="-13.77870084" style="text-anchor:middle">茅西纱厂Z1</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_273082_1">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="586.7048004" y="-0.5787008351" style="text-anchor:middle">开关</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
        </g>
        <g id="Hot_Layer" />
    </g>
</svg>
