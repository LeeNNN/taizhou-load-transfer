<?xml version="1.0" encoding="UTF-8" ?>
<svg width="688" height="362" viewBox="0 0 688 362" onload="init(evt)" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:cge="http://iec.ch/TC57/2005/SVG-schema#">
    <style type="text/css">
        <![CDATA[]]>
    </style>
    <script type="text/ecmascript">
        var transMatrix = [1, 0, 0, 1, 0, 0];
        function clickChild(evt){window.parent.clickChild(evt);}
        function init(evt) {
        if (window.svgDocument == null) {
        svgDoc = evt.target.ownerDocument;
        }
        mapMatrix = svgDoc.getElementById(&quot;map-matrix&quot;);
        clientWidth = svgDoc.documentElement.clientWidth;
        clientHeight = svgDoc.documentElement.clientHeight;
        getlayer(svgDoc);
        addEvent(mapMatrix);
        width = mapMatrix.firstElementChild.width.animVal.value;
        height = mapMatrix.firstElementChild.height.animVal.value;
        transMatrix[0] = 1;
        transMatrix[3] = 1;
        transMatrix[4] = -(width/2)+(clientWidth/2);
        transMatrix[5] = -(height/2)+(clientHeight/2);
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);
        zoomIn(clientHeight/height);
        }
        function addEvent(mapMatrix) {
        if(document.addEventListener){
        mapMatrix.addEventListener(&apos;DOMMouseScroll&apos;,mousewheel,false);}
        mapMatrix.setAttribute(&quot;onmousewheel&quot;, &quot;mousewheel(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmouseup&quot;, &quot;mouseup(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousedown&quot;, &quot;mousedown(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousemove&quot;,&quot;mousemove(evt)&quot;);
        mapMatrix.setAttribute(&quot;onmousemout&quot;, &quot;mousemout(evt)&quot;);
        }
        function mousewheel(evt) {
        if (evt.wheelDelta) {
        console.log(evt.wheelDelta);
        if (evt.wheelDelta == 120) {
        zoomOut(1.25);
        }else if(evt.wheelDelta == 180){
        zoomOut(1.25);
        } else {
        zoomIn(0.8);
        }
        } else if (evt.detail) {
        if (evt.detail == -3) {
        zoomOut(1.25);
        } else {
        zoomIn(0.8);}}}
        var downx = 0;var downy = 0;var downclick = 0;var movex = transMatrix[4];var movey = transMatrix[5];
        function mouseup(evt) {
        var oEvent = evt || event;
        var x = (oEvent.clientX - downx);
        var y = (oEvent.clientY - downy);
        movex += x;
        movey += y;
        downclick = 0;downx = 0;downy = 0;}
        function mousemout(evt) {
        downclick = 0;downx = 0;downy = 0;}
        function mousedown(evt) {
        var oEvent = evt || event;
        downclick = 1;
        downx = oEvent.clientX;
        downy = oEvent.clientY;}
        function mousemove(evt) {
        if (downclick == 1) {
        var oEvent = evt || event;
        var x = (oEvent.clientX - downx);
        var y = (oEvent.clientY - downy);
        transMatrix[4] = x + movex;
        transMatrix[5] = y + movey;
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) +&quot;)&quot;;
        mapMatrix.setAttributeNS(null,&quot;transform&quot;, newMatrix);}}
        function getlayer(SvgMainMapDoc) {
        var node = SvgMainMapDoc.documentElement;
        findnode(node)}
        function findnode(node) {
        for (var i = 0; i &lt; node.childNodes.length; i++) {
        if (node.childNodes.item(i).nodeType != 3 &amp;&amp; node.childNodes.item(i).nodeType != 4) {
        var child = node.childNodes.item(i);
        if (child.getAttribute(&quot;id&quot;) &amp;&amp; child.getAttribute(&quot;objid&quot;) != &quot;&quot; &amp;&amp; child.getAttribute(&quot;objid&quot;) != null) {
        /*child.setAttribute(&quot;onclick&quot;, &quot;click(this)&quot;); */}
        if (child.childNodes) {
        findnode(child);
        } else {
        break;
        }}}}
        function click(evt) {
        /*alert(evt.getAttribute(&quot;objid&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objtype&quot;)+&quot;_&quot;+evt.getAttribute(&quot;name&quot;)); */}
        function move(evt){
        var id = evt.getAttribute(&quot;objtype&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objid&quot;)
        var node = svgDoc.documentElement;
        opacity(node,&quot;1&quot;,id);}
        function out(evt){
        var id = evt.getAttribute(&quot;objtype&quot;) + &quot;_&quot; + evt.getAttribute(&quot;objid&quot;)
        var node = svgDoc.documentElement;
        opacity(node,&quot;0&quot;,id); }
        function opacity(node,value,id){
        for (var i = 0; i &lt; node.childNodes.length; i++) {
        if (node.childNodes.item(i).nodeType != 3 &amp;&amp; node.childNodes.item(i).nodeType != 4) {
        var child = node.childNodes.item(i);
        if (child.getAttribute(&quot;opacity&quot;) &amp;&amp; child.getAttribute(&quot;geoLabel&quot;) != null &amp;&amp;child.getAttribute(&quot;geoLabel&quot;) == id ) {
        child.setAttribute(&quot;opacity&quot;, value);}
        if (child.childNodes) {
        opacity(child,value,id);
        } else {
        break;}}}}
        function pan(dx, dy) {
        transMatrix[4] += dx;
        transMatrix[5] += dy;
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos;&apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
        function zoomIn(scale) {
        console.log(scale);
        if(transMatrix[0] &lt; 0.02 )
        return;
        for (var i = 0; i &lt; transMatrix.length; i++) {
        transMatrix[i] *= scale;}
        transMatrix[4] += (1 - scale) * clientWidth / 2;
        transMatrix[5] += (1 - scale) * clientHeight / 2;
        movex = transMatrix[4];
        movey = transMatrix[5];
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
        function zoomOut(scale) {
        console.log(scale);
        if(transMatrix[0]&gt;10 ) 
        return;
        for (var i = 0; i &lt; transMatrix.length; i++) {
        transMatrix[i] *= scale;}
        transMatrix[4] += (1 - scale) * clientWidth / 2;
        transMatrix[5] += (1 - scale) * clientHeight / 2;
        movex = transMatrix[4];
        movey = transMatrix[5];
        newMatrix = &quot;matrix(&quot; + transMatrix.join(&apos; &apos;) + &quot;)&quot;;
        mapMatrix.setAttributeNS(null, &quot;transform&quot;, newMatrix);}
    </script>
    <defs>
        <symbol id="Breaker_DMS_CXKG_@1" viewBox="0.0000 0.0000 2.0000 7.5086">
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="rgb(255, 0, 0)" points="0.000000, 1.254270 0.000000, 6.254290 2.000000, 6.254290 2.000000, 1.254270 0.000000, 1.254270" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 2.502853 1.000000, 0.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 5.005707 1.000000, 7.508560" />
        </symbol>
        <symbol id="Breaker_DMS_CXKG_@0" viewBox="0.0000 0.0000 2.1196 7.5000">
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 1.212060 1.059810, 0.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="0.000000, 1.225650 0.000000, 6.262610 2.082620, 6.262610 2.082620, 1.225650 0.000000, 1.225650" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 6.258430 1.059810, 7.500030" />
        </symbol>
        <symbol id="Breaker_11100000_2040010@1" viewBox="0.0000 0.0000 2.0000 7.5086">
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="rgb(255, 0, 0)" points="0.000000, 1.254270 0.000000, 6.254290 2.000000, 6.254290 2.000000, 1.254270 0.000000, 1.254270" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 2.502853 1.000000, 0.000000" />
            <polyline stroke="rgb(255, 0, 0)" stroke-width="0.06666666667" fill="none" points="1.000000, 5.005707 1.000000, 7.508560" />
        </symbol>
        <symbol id="Breaker_11100000_2040010@0" viewBox="0.0000 0.0000 2.1196 7.5000">
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 1.212060 1.059810, 0.000000" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="0.000000, 1.225650 0.000000, 6.262610 2.082620, 6.262610 2.082620, 1.225650 0.000000, 1.225650" />
            <polyline stroke="rgb(0, 170, 0)" stroke-width="0.070654" fill="none" points="1.059810, 6.258430 1.059810, 7.500030" />
        </symbol>
    </defs>
    <g id="map-matrix" transform="matrix(1 0 0 1 0 0)">
        <g id="bglayer">
            <rect width="688" x="0.0" height="362" y="0.0" style="fill:#fff;" />
        </g>
        <g id="Substation_Layer">
            <g id="">
                <polygon stroke="rgb(255, 0, 0)" stroke-width="3" fill="none" points="0.000000, -44.375800 133.997600, -44.375800 133.997600, 0.000000 0.000000, 0.000000 0.000000, -44.375800" node1="0" node2="0" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Substation_Layer" />
                    <cge:PSR_Ref ObjectName="纪荀变" PSRType="30000000" />
                </metadata>
            </g>
        </g>
        <g id="ACLineSegment_Layer">
            <g id="PD_20100000_1985237">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="285.622800, -22.187900 335.622800, -22.187900" node1="1191972" node2="1191973" _Dataid="PD_20100000_1985237" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_316626" />
                    <cge:Layer_Ref ObjectName="ACLineSegment_Layer" />
                    <cge:PSR_Ref ObjectID="PD_20100000_1985237" ObjectName="站外-电缆终端头1835629-站外-电缆终端头1835630" GlobeID="SBID00000044903E15979F45D08FE26FB277095D1A" PSRType="20100000" />
                </metadata>
            </g>
        </g>
        <g id="BusbarSection_Layer">
            <g id="">
                <polyline stroke="rgb(255, 0, 0)" stroke-width="2.5" fill="none" points="133.997600, -33.281850 133.997600, -11.093950" node1="1191969" node2="0" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_316625" />
                    <cge:Layer_Ref ObjectName="BusbarSection_Layer" />
                    <cge:PSR_Ref ObjectName="泰州.纪荀变/10kV.10kVI段母线" PSRType="31100000" />
                </metadata>
            </g>
        </g>
        <g id="ConnLine_Layer">
            <g id="PD_14000000_316625">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="133.997600, -22.187900 185.622400, -22.187900" node1="1191969" node2="1191970" _Dataid="PD_14000000_316625" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_316625" />
                    <cge:Layer_Ref ObjectName="ConnLine_Layer" />
                    <cge:PSR_Ref ObjectID="PD_14000000_316625" ObjectName="null" PSRType="36000000" />
                </metadata>
            </g>
            <g id="PD_14000000_316626">
                <polyline stroke="rgb(168, 0, 0)" stroke-width="5" fill="none" points="235.622400, -22.187900 285.622800, -22.187900" node1="1191971" node2="1191972" _Dataid="PD_14000000_316626" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_316626" />
                    <cge:GLink_Ref ObjectID="PD_20100000_1985237" />
                    <cge:Layer_Ref ObjectName="ConnLine_Layer" />
                    <cge:PSR_Ref ObjectID="PD_14000000_316626" ObjectName="null" PSRType="36000000" />
                </metadata>
            </g>
        </g>
        <g id="Breaker_Layer">
            <g id="">
                <use x="210.6224" y="-22.1879" width="2.11962" height="7.50003" transform="scale(49.999800, 49.999800) translate(-205.491433, 24.994166) rotate(540.000000, 210.622400, -22.187900)" xlink:href="#Breaker_DMS_CXKG_@0" node1="1191970" node2="1191971" />
                <metadata>
                    <cge:GLink_Ref ObjectID="PD_14000000_316625" />
                    <cge:GLink_Ref ObjectID="PD_14000000_316626" />
                    <cge:Layer_Ref ObjectName="Breaker_Layer" />
                    <cge:PSR_Ref ObjectName="泰州.纪荀变/10kV.徐顾1A5开关" PSRType="30500000" />
                </metadata>
            </g>
            <g id="PD_11100000_358426">
                <use x="360.6228" y="-22.1879" width="2.11962" height="7.50003" transform="scale(19.266590, 19.266590) translate(-341.212185, 23.488716) rotate(540.000000, 360.622800, -22.187900)" xlink:href="#Breaker_11100000_2040010@0" node1="1191974" node2="1191975" _Dataid="PD_11100000_358426" />
                <metadata>
                    <cge:Layer_Ref ObjectName="Breaker_Layer" />
                    <cge:PSR_Ref ObjectID="PD_11100000_358426" ObjectName="徐顾光孝K1开关" GlobeID="5efa2f921bff8080815cd6d001015d5ef6d1033657" PSRType="11100000" />
                </metadata>
            </g>
        </g>
        <g id="Text_Layer">
            <g id="1693_361911_0">
                <text font-size="24" font-family="SimSun" stroke="rgb(255, 0, 0)" stroke-width="0.8" x="61.28479977" y="-15.1879" style="text-anchor:middle">纪荀变</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_361913_0">
                <text font-size="13" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4333333333" x="210.6224" y="-33.4738993" style="text-anchor:middle">徐顾1A5开关</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_361912_0">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="360.6228" y="-47.1879" style="text-anchor:middle">徐顾光孝K1</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
            <g id="1693_361912_1">
                <text font-size="12" font-family="SimSun" stroke="rgb(255, 255, 255)" stroke-width="0.4" x="360.6228" y="-33.9879" style="text-anchor:middle">开关</text>
                <metadata>
                    <cge:Layer_Ref ObjectName="Text_Layer" />
                </metadata>
            </g>
        </g>
        <g id="Hot_Layer" />
    </g>
</svg>
